.widget-container {
  display: grid;
  height: 100vh;
  grid-template-areas:
    "left-widget top-widget right-widget"
    "left-widget fill-widget right-widget"
    "bottom-widget bottom-widget bottom-widget";
  grid-template-rows: auto 1fr auto;
  grid-template-columns: auto 1fr auto;
  position: relative;
}

.fill-widget {
  grid-area: fill-widget;
  position: relative;
  overflow: hidden;
}

.output-area,
.noodles-area {
  position: absolute;
  left: 0;
  right: 0;
  overflow: hidden;
}

/* Split mode: divide space vertically */
.fill-widget.layout-split .output-area {
  top: 0;
  bottom: 50%;
}

.fill-widget.layout-split .noodles-area {
  top: 50%;
  bottom: 0;
}

/* Noodles on top mode: noodles overlays output */
.fill-widget.layout-noodles-on-top .output-area {
  top: 0;
  bottom: 0;
  z-index: 0;
}

.fill-widget.layout-noodles-on-top .noodles-area {
  top: 0;
  bottom: 0;
  z-index: 1;
}

/* Output on top mode: output overlays noodles */
.fill-widget.layout-output-on-top .output-area {
  top: 0;
  bottom: 0;
  z-index: 1;
}

.fill-widget.layout-output-on-top .noodles-area {
  top: 0;
  bottom: 0;
  z-index: 0;
}

/* In output-on-top mode, disable pointer events on the container but enable them on children */
.fill-widget.layout-output-on-top .output-area {
  pointer-events: none;
}

.fill-widget.layout-output-on-top .output-area > * {
  pointer-events: auto;
}
